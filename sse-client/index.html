<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"
          integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/@reactivex/rxjs@5.5.2/dist/global/Rx.js"></script>
    <script type="text/javascript" src="index.js"></script>
    <title>SSE Client Example</title>
</head>

<body>


    <div class="card">
        <div class="card-header">
            Server Sent Events example
        </div>
        <div class="card-body">
            <h4 class="card-title">Server Sent Events example</h4>
            <p class="card-text">Exemple illustrant l'utilisation des mécanismes Server Send Events</p>
            <p>Serveur url : http://localhost:8080/stream</p>

            <a href="#" id="connect" class="btn btn-primary">Connect</a>
            <a href="#" id="disconnect"class="btn btn-danger">Disconnect</a>

            <span id="disconnect_state" class="badge badge-danger">Disconnected</span>
            <span id="connect_state" class="badge badge-success">Connected</span>
            <span id="connecting_state" class="badge badge-warning">Connecting...</span>
        </div>

        <!-- zone tick event -->
        <div class="card-body">
            <h4 class="card-title">Broadcast event</h4>

            <p class="card-text">Evénements globaux, sans nommage</p>

            <button id="broadcast-count-btn" type="button" class="btn btn-danger">
                Messages <span id="broadcast-count" class="badge badge-light">0</span>
            </button>
            <div class="alert alert-primary" role="alert">
                <div><span style="font-weight: bold">Last-event-Id:</span><span id="bre-id"></span></div>
                <div><span style="font-weight: bold">type:</span><span id="bre-type"></span></div>
                <div><span style="font-weight: bold">origin:</span><span id="bre-origin"></span></div>
                <br/><div><h3>Data:</h3></div>
                <div><span style="font-weight: bold">eventId:</span><span id="bre-event-id"></span></div>
                <div><span style="font-weight: bold">date:</span><span id="bre-date"></span></div>
                <div><span style="font-weight: bold">tick:</span><span id="bre-tick"></span></div>
            </div>

        </div>

        <!-- zone date event -->
        <div class="card-body">
            <h4 class="card-title">EventDate event</h4>

            <p class="card-text">Evénements nommés. Pour le événements nommés (attributs event de la trame sse), il faut
                souscrire à l'événement nommé via addEventListener avec en paraméetres le nom de l'événement sur lequel souscrire.
            </p>


            <button id="eventdate-count-btn" type="button" class="btn btn-danger">
                Messages <span id="eventdate-count" class="badge badge-light">0</span>
            </button>
            <div class="alert alert-primary" role="alert">
                <div><span style="font-weight: bold">Last-event-Id:</span><span id="edt-id"></span></div>
                <div><span style="font-weight: bold">type:</span><span id="edt-type"></span></div>
                <div><span style="font-weight: bold">origin:</span><span id="edt-origin"></span></div>
                <br/><div><h3>Data:</h3></div>
                <div><span style="font-weight: bold">eventId:</span><span id="edt-event-id"></span></div>
                <div><span style="font-weight: bold">date:</span><span id="edt-date"></span></div>

            </div>

        </div>


    </div>



</body>
</html>